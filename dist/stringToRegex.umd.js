!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.captureNsequentialChars=t()}(this,function(){"use strict";var e=function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},t=function(e){return e.replace(/([=!:$/()])/g,"\\$1")},i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),n=function(e){return Array.isArray(e)?e:Array.from(e)},r={defaultDelimiter:"/",delimiters:"./"},a={strict:!1,delimiter:"/",delimiters:"./",end:!0,endsWith:[]};return function(l,o,s){return function(t,i){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=!1!==n.end,l=e(n.delimiter),o=[].concat(n.endsWith).map(e).concat("$").join("|"),s="",u=!1,f=0;f<t.length;f++){var d=t[f];if("string"==typeof d)s+=e(d),u=f===t.length-1&&n.delimiters.indexOf(d[d.length-1])>-1;else{var p=e(d.prefix),c=d.repeat?"(?:"+d.pattern+")(?:"+p+"(?:"+d.pattern+"))*":d.pattern;i&&i.push(d),d.optional?d.partial?s+=p+"("+c+")?":s+="(?:"+p+"("+c+"))?":s+=p+"("+c+")"}}return r?(n.strict||(s+="(?:"+l+")?"),s+="$"===o?"$":"(?="+o+")"):(n.strict||(s+="(?:"+l+"(?="+o+"))?"),u||(s+="(?="+l+"|"+o+")")),new RegExp("^"+s,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sensitive?"":"i"}(n))}(function(a){for(var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=[],s=0,u=0,f="",d=!1,p=void 0;p=i.exec(a);){var c=n(p),h=c[0],g=c[1],m=c[2],v=c[3],x=c[4],y=c[5],$=(c.slice(6),p.index);if(f+=a.slice(u,$),u=$+h.length,g)f+=g[1],d=!0;else{var j="",w=a[u];if(!d&&f.length){var A=f.length-1;l.delimiters.indexOf(f[A])>-1&&(j=f[A],f=f.slice(0,A))}f&&(o.push(f),f="",d=!1);var b=""!==j&&void 0!==w&&w!==j,D="+"===y||"*"===y,E="?"===y||"*"===y,O=j||l.defaultDelimiter,R=v||x;o.push({name:m||s++,prefix:j,delimiter:O,optional:E,repeat:D,partial:b,pattern:R?t(R):"[^"+e(O)+"]+?"})}}return(f||u<a.length)&&o.push(f+a.substr(u)),o}(l,s),o,s)}});
